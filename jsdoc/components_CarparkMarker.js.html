<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/CarparkMarker.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/CarparkMarker.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useState} from 'react';
import {Text, ImageBackground} from 'react-native';
import {Marker} from 'react-native-maps';
import { useSelector } from 'react-redux';

/**
 * @module CarparkMarker
 * */

const styles = {
  marker: {
    width: 44,
    height: 44,
    justifyContent: 'center',
    alignItems: 'center',
  },
  carparkNumber: {
    paddingBottom: 10,
    color: 'white',
  },
};

export default function CarparkMarkerContainer() {
  const carparks = useSelector(state => state.carparks.carparksData);
  const maxCarparks = useSelector((state) => state.maxCarparks.limit)

  return (
    carparks.map((carpark, index) => {
      if (index &lt; maxCarparks) {
        return (
          &lt;CarparkMarker
            carpark={carpark}
            index={index}
            key={index}
          />
        );
      }
    })
  )
}

function CarparkMarker(props) {
  // workaround for some markers not rendering image fast enough
  const [trackView, setTrackView] = useState(true);

  return (
    &lt;Marker
      tracksViewChanges={trackView}
      key={props.carpark.identifier}
      coordinate={props.carpark.latlng}>
      &lt;ImageBackground
        source={require('../images/marker.png')}
        style={styles.marker}
        // workaround for some markers not rendering image fast enough
        onLoadEnd={() => setTimeout(() => setTrackView(false), 1000)}>
        &lt;Text style={styles.carparkNumber}>{props.index + 1}&lt;/Text>
      &lt;/ImageBackground>
    &lt;/Marker>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a></li><li><a href="module-Carpark.html">Carpark</a></li><li><a href="module-CarparkMarker.html">CarparkMarker</a></li><li><a href="module-CarparksManager.html">CarparksManager</a></li><li><a href="module-DataManager.html">DataManager</a></li><li><a href="module-DetailedView.html">DetailedView</a></li><li><a href="module-Favourite.html">Favourite</a></li><li><a href="module-FavouritesScreen.html">FavouritesScreen</a></li><li><a href="module-NearbyScreen.html">NearbyScreen</a></li><li><a href="module-SearchScreen.html">SearchScreen</a></li><li><a href="module-SimpleModal.html">SimpleModal</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Fri Apr 09 2021 22:22:07 GMT+0800 (Singapore Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
